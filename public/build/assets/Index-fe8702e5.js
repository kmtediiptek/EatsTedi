import{q as H,j as s,F as x,a as e,r as c,W as J,b as K,y as R}from"./app-081f3543.js";import{A as g}from"./Actionbutton-d06f7bce.js";import{C as X}from"./Container-9e3dc6e2.js";import{M as Z}from"./Modal-2665796d.js";import{P as ee}from"./Pagination-c5fd78cd.js";import{P as _}from"./PrimaryButton-a074050f.js";import{S as C}from"./SecondaryButton-695f0f2c.js";import{T as t}from"./Table-ee63abb5.js";import{T as ae}from"./Toast-1b3d1cf2.js";import{A as se}from"./App-4fd9dbe3.js";import{_ as k}from"./index-f1485e47.js";import{T as d}from"./TextInput-b48b3dcc.js";import{I as b}from"./InputLabel-3eeb76a6.js";import{E as y}from"./Error-7eaef181.js";import{A as te}from"./ActionLink-fdfbf142.js";import{I as re}from"./IconPlus-425103cf.js";import{I as le}from"./IconEdit-e26e7685.js";import{I as ne}from"./IconTrash-4d8bee97.js";import"./transition-cc3e1cad.js";import"./createReactComponent-10853b87.js";function oe({data:l,setData:N}){const{errors:r}=H().props,n=m=>{N(m.target.name,m.target.value)};return s(x,{children:[s("div",{className:"mb-6",children:[e(b,{htmlFor:"day",value:"Day"}),e(d,{name:"day",id:"day",className:"w-full",onChange:n,value:l.day}),r.day?e(y,{className:"",value:r.day}):null]}),s("div",{className:"mb-6",children:[e(b,{htmlFor:"open",value:"Open"}),e(d,{name:"open",type:"time",id:"open",className:"w-full",onChange:n,value:l.open}),r.open?e(y,{className:"",value:r.open}):null]}),s("div",{className:"mb-6",children:[e(b,{htmlFor:"close",value:"Close"}),e(d,{name:"close",id:"close",type:"time",className:"w-full",onChange:n,value:l.close}),r.close?e(y,{className:"",value:r.close}):null]}),s("div",{className:"mb-6",children:[e(b,{htmlFor:"is_break",value:"Break"}),s("div",{className:"flex items-center gap-4",children:[s("div",{className:`w-1/2 flex items-center pl-4 border ${l.is_break==1?"border-primary":"border-gray-300"} rounded`,children:[e(d,{id:"is_break_yes",type:"radio",onChange:n,checked:l.is_break==1,value:"1",name:"is_break",className:"w-4 h-4 text-primary bg-gray-100 border-gray-300 focus:ring-primary"}),e("label",{htmlFor:"is_break_yes",className:"w-full py-2 ml-2 font-medium text-third",children:"Yes"})]}),s("div",{className:`w-1/2 flex items-center pl-4 border ${l.is_break==0?"border-primary":"border-secondary"} rounded`,children:[e(d,{id:"is_break_no",type:"radio",onChange:n,checked:l.is_break==0,value:"0",name:"is_break",className:"w-4 h-4 text-primary bg-white border-secondary focus:ring-primary"}),e("label",{htmlFor:"is_break_no",className:"w-full py-2 ml-2 font-medium text-third",children:"No"})]})]}),r.is_break?e(y,{className:"",value:r.is_break}):null]})]})}function ie({total_payments:l,...N}){const{data:r,meta:n,links:m}=N.schedules,[I,F]=c.useState(""),{delete:j,post:A,put:D,data:v,setData:h}=J({day:"",open:"",close:"",is_break:""});let[M,i]=c.useState(!1),[B,u]=c.useState(!1);const[P,z]=c.useState(""),[E,O]=c.useState(""),[S,Y]=c.useState(""),[T,p]=c.useState("");function w(a,o){if(i(!0),z("Schedule"),Y(o),p(a),a){const f=r.find(G=>G.id===a);p(a),h({day:f.day,open:f.open,close:f.close,is_break:f.is_break})}else p(""),h({day:"",open:"",close:"",is_break:""})}function $(a,o){u(!0),O(o),p(a)}function L(){i(!1)}function Q(){u(!1)}const U=a=>{a.preventDefault(),A(route("admin.schedule.index"),{data:v,onSuccess:()=>{k.success("Schedule has been created!"),i(!1),h({day:"",open:"",close:"",is_break:""})}})},q=a=>o=>{o.preventDefault(),D(route("admin.schedule.update",a),{...v,onSuccess:()=>{k.success("Schedule has been updated!"),i(!1)}})},V=a=>{j(route("admin.schedule.destroy",a),{onSuccess:()=>{k.success("Schedule has been deleted!"),u(!1)}})},W=a=>{a.preventDefault(),F(a.target.value),R.get("/admin/setting/schedule",{search:a.target.value},{preserveState:!0})};return s(x,{children:[e(K,{title:"Setting"}),s(X,{children:[e("h3",{className:"text-2xl mt-10 mb-4 font-semibold text-fourth",children:"Schedules"}),s("div",{className:"flex justify-between gap-2 w-full item-center my-2",children:[s("div",{className:"flex gap-2",children:[e(te,{href:route("admin.dashboard")}),e(g,{onClick:()=>w("","create"),type:"button",children:e(re,{size:18})})]}),e(d,{type:"search",className:"w-3/4 md:w-1/4",placeholder:"Search schedule..",defaultValue:I,onChange:W})]}),s(t,{children:[e(t.Thead,{children:s("tr",{children:[e(t.Th,{children:"#"}),e(t.Th,{children:"Day"}),e(t.Th,{children:"Schedule"}),e(t.Th,{children:"Break"}),e(t.Th,{children:"Action"})]})}),e(t.Tbody,{children:r.length>0?e(x,{children:r.map((a,o)=>s("tr",{className:"bg-white border-b",children:[e(t.Td,{className:"w-5",children:n.from+o}),e(t.Td,{children:a.day}),s(t.Td,{children:[a.open," - ",a.close]}),e(t.Td,{children:e("span",{className:`text-xs p-2 ${a.is_break?"bg-emerald text-white rounded":"bg-violet text-white rounded"}`,children:a.is_break?"Yes":"No"})}),e(t.Td,{className:"w-10",children:s("div",{className:"flex flex-nowrap gap-2",children:[e(g,{className:"w-8 h-8 bg-yellow-400",type:"button",onClick:()=>w(a.id,"edit"),children:e(le,{size:18})}),e(g,{className:"w-8 h-8 bg-red-500",type:"button",onClick:()=>$(a.id,"Schedule "+a.day),children:e(ne,{size:18})})]})})]},o))}):e("tr",{className:"bg-white border-b text-secondary text-center",children:e(t.Td,{colSpan:"4",children:"No data"})})})]}),r.length>0&&s("div",{className:"flex w-full justify-between items-center",children:[e(ee,{meta:n,links:m}),s("p",{className:"text-sm text-third mt-10",children:["Total Schedules:"," ",e("span",{className:"font-bold",children:l})," "]})]}),e(Z,{isOpen:M,onClose:()=>i(i),setIsOpen:i,size:"1/3",type:S,title:P,children:s("form",{onSubmit:S=="create"?U:q(T),className:"mt-6",children:[e(oe,{data:v,setData:h}),s("div",{className:"flex justify-end gap-2",children:[e(C,{onClick:()=>L(),children:"Cancel"}),e(_,{type:"submit",children:S=="create"?"Create":"Update"})]})]})}),e(ae,{isToast:B,onClose:()=>u(!1),title:E,children:s("div",{className:"flex justify-end gap-2 justify-center",children:[e(C,{onClick:()=>Q(),children:"No"}),e(_,{onClick:()=>V(T),children:"Yes"})]})})]})]})}ie.layout=l=>e(se,{children:l});export{ie as default};
