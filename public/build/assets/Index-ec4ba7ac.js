import{q as Y,j as a,F as T,a as e,r as o,W as G,b as H,y as J}from"./app-081f3543.js";import{A as g}from"./Actionbutton-d06f7bce.js";import{I as K}from"./InputLabel-3eeb76a6.js";import{E as R}from"./Error-7eaef181.js";import{T as f}from"./TextInput-b48b3dcc.js";import{C as X}from"./Container-9e3dc6e2.js";import{M as Z}from"./Modal-2665796d.js";import{P as ee}from"./Pagination-c5fd78cd.js";import{P as S}from"./PrimaryButton-a074050f.js";import{S as C}from"./SecondaryButton-695f0f2c.js";import{T as s}from"./Table-ee63abb5.js";import{T as te}from"./Toast-1b3d1cf2.js";import{A as ae}from"./App-4fd9dbe3.js";import{_ as N}from"./index-f1485e47.js";import{A as se}from"./ActionLink-fdfbf142.js";import{I as re}from"./IconPlus-425103cf.js";import{I as ne}from"./IconEdit-e26e7685.js";import{I as le}from"./IconTrash-4d8bee97.js";import"./transition-cc3e1cad.js";import"./createReactComponent-10853b87.js";function oe({data:r,setData:p}){const{errors:n}=Y().props,i=d=>{p(d.target.name,d.target.value)};return a(T,{children:[a("div",{className:"mb-4",children:[e(K,{htmlFor:"name",value:"Name"}),e(f,{name:"name",id:"name",className:"w-full",onChange:i,value:r.name}),n.name?e(R,{className:"",value:n.name}):null]}),a("div",{className:"mb-4",children:[a("div",{className:"flex items-center gap-4",children:[a("div",{className:`w-1/2 flex items-center bg-third focus:ring-fifth focus:bg-white pl-4 border ${r.status=="1","border-fifth"} rounded-md`,children:[e(f,{id:"bordered-radio-1",type:"radio",onChange:i,checked:r.status=="1",value:"1",name:"status"}),e("label",{htmlFor:"bordered-radio-1",className:"w-full py-2 ml-2 font-medium text-dark ",children:"Aktif"})]}),a("div",{className:`w-1/2 flex items-center pl-4 bg-third focus:border-fifth focus:ring-fifth focus:bg-white pl-4 border ${r.status=="0"?"border-fifth bg-white":"border-fifth"} rounded-md`,children:[e(f,{id:"bordered-radio-2",type:"radio",onChange:i,checked:r.status=="0",value:"0",name:"status"}),e("label",{htmlFor:"bordered-radio-2",className:"w-full py-2 ml-2 font-medium text-dark",children:"Tidak Aktif"})]})]}),n.status?e(InputError,{className:"",message:n.status}):null]})]})}function ie({total_payments:r,...p}){const{data:n,meta:i,links:d}=p.payments,[k,P]=o.useState(""),{delete:I,post:A,put:j,data:b,setData:m}=G({name:""});let[M,c]=o.useState(!1),[F,u]=o.useState(!1);const[D,E]=o.useState(""),[z,B]=o.useState(""),[y,U]=o.useState(""),[x,h]=o.useState("");function v(t,l){if(c(!0),E("Payment"),U(l),h(t),t){const w=n.find(W=>W.slug===t);h(t),m({name:w.name,status:w.status})}else h(""),m({name:"",status:""})}function $(t,l){u(!0),B(l),h(t)}function L(){c(!1)}function O(){u(!1)}const Q=t=>{t.preventDefault(),A(route("admin.payment.index"),{data:b,onSuccess:()=>{N.success("Payment has been created!"),c(!1),m({name:""})}})},_=t=>l=>{l.preventDefault(),j(route("admin.payment.update",t),{...b,onSuccess:()=>{N.success("Payment has been updated!"),c(!1)}})},q=t=>{I(route("admin.payment.destroy",t),{onSuccess:()=>{N.success("Payment has been deleted!"),u(!1)}})},V=t=>{t.preventDefault(),P(t.target.value),J.get("/admin/setting/payment",{search:t.target.value},{preserveState:!0})};return a(T,{children:[e(H,{title:"Setting"}),a(X,{children:[e("h3",{className:"text-2xl mt-10 mb-4 font-semibold text-fourth",children:"Payments"}),a("div",{className:"flex justify-between gap-2 w-full item-center my-2",children:[a("div",{className:"flex gap-2",children:[e(se,{href:route("admin.dashboard")}),e(g,{onClick:()=>v("","create"),type:"button",children:e(re,{size:18})})]}),e(f,{type:"search",className:"w-3/4 md:w-1/4",placeholder:"Search payment..",defaultValue:k,onChange:V})]}),a(s,{children:[e(s.Thead,{children:a("tr",{children:[e(s.Th,{children:"#"}),e(s.Th,{children:"Name"}),e(s.Th,{children:"Status"}),e(s.Th,{children:"Action"})]})}),e(s.Tbody,{children:n.length>0?e(T,{children:n.map((t,l)=>a("tr",{className:"bg-white border-b",children:[e(s.Td,{className:"w-5",children:i.from+l}),e(s.Td,{children:t.name.toUpperCase()}),e(s.Td,{className:"text-left",children:e("span",{className:`text-xs p-2 ${t.status==1?"bg-sky text-white rounded":"bg-emerald text-white rounded"}`,children:t.status==1?"Active":"Non Active"})}),e(s.Td,{className:"w-10",children:a("div",{className:"flex flex-nowrap gap-2",children:[e(g,{className:"w-8 h-8 bg-yellow-400",type:"button",onClick:()=>v(t.slug,"edit"),children:e(ne,{size:18})}),e(g,{className:"w-8 h-8 bg-red-500",type:"button",onClick:()=>$(t.slug,"Payment "+t.name),children:e(le,{size:18})})]})})]},l))}):e("tr",{className:"bg-white border-b text-secondary text-center",children:e(s.Td,{colSpan:"4",children:"No data"})})})]}),n.length>0&&a("div",{className:"flex w-full justify-between items-center",children:[e(ee,{meta:i,links:d}),a("p",{className:"text-sm text-third mt-10",children:["Total Payments:"," ",e("span",{className:"font-bold",children:r})," "]})]}),e(Z,{isOpen:M,onClose:()=>c(!1),size:"1/3",type:y,title:D,children:a("form",{onSubmit:y=="create"?Q:_(x),className:"mt-6",children:[e(oe,{data:b,setData:m}),a("div",{className:"flex justify-end gap-2",children:[e(C,{onClick:()=>L(),children:"Cancel"}),e(S,{type:"submit",children:y=="create"?"Create":"Update"})]})]})}),e(te,{isToast:F,onClose:()=>u(!1),title:z,children:a("div",{className:"flex justify-end gap-2 justify-center",children:[e(C,{onClick:()=>O(),children:"No"}),e(S,{onClick:()=>q(x),children:"Yes"})]})})]})]})}ie.layout=r=>e(ae,{children:r});export{ie as default};
