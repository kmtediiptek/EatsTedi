import{j as t,F as o,a as e,y,r as g,q as B,W as D,b as F,d as L}from"./app-e84518f4.js";import{T as k}from"./TextInput-aba27e7c.js";import{_ as $,n as X}from"./index-c091b8ca.js";import{n as q}from"./Helper-f0b8910d.js";import{I as U,T as V}from"./Toast-31845ed4.js";import{I as Q}from"./IconPlus-4b02b2ff.js";import{c as d}from"./createReactComponent-6fd5fae7.js";import{C as W}from"./Container-fe046a49.js";import{E as P}from"./Error-9f99633d.js";import{P as j}from"./PrimaryButton-6c4f361c.js";import{M as Y}from"./Modal-1644288e.js";import{S as E}from"./SecondaryButton-2ea6ac27.js";import{S as G}from"./Select-f9eb8111.js";import{P as H}from"./Pagination-efa05824.js";import{A as J}from"./App-67f4dd75.js";import"./transition-d5ee3e1f.js";import"./keyboard-2bfe6c0d.js";var K=d("arrows-maximize","IconArrowsMaximize",[["path",{d:"M16 4l4 0l0 4",key:"svg-0"}],["path",{d:"M14 10l6 -6",key:"svg-1"}],["path",{d:"M8 20l-4 0l0 -4",key:"svg-2"}],["path",{d:"M4 20l6 -6",key:"svg-3"}],["path",{d:"M16 20l4 0l0 -4",key:"svg-4"}],["path",{d:"M14 14l6 6",key:"svg-5"}],["path",{d:"M8 4l-4 0l0 4",key:"svg-6"}],["path",{d:"M4 4l6 6",key:"svg-7"}]]),Z=d("arrows-minimize","IconArrowsMinimize",[["path",{d:"M5 9l4 0l0 -4",key:"svg-0"}],["path",{d:"M3 3l6 6",key:"svg-1"}],["path",{d:"M5 15l4 0l0 4",key:"svg-2"}],["path",{d:"M3 21l6 -6",key:"svg-3"}],["path",{d:"M19 9l-4 0l0 -4",key:"svg-4"}],["path",{d:"M15 9l6 -6",key:"svg-5"}],["path",{d:"M19 15l-4 0l0 4",key:"svg-6"}],["path",{d:"M15 15l6 6",key:"svg-7"}]]),ee=d("bell","IconBell",[["path",{d:"M10 5a2 2 0 1 1 4 0a7 7 0 0 1 4 6v3a4 4 0 0 0 2 3h-16a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6",key:"svg-0"}],["path",{d:"M9 17v1a3 3 0 0 0 6 0v-1",key:"svg-1"}]]),le=d("cash","IconCash",[["path",{d:"M7 9m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M14 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M17 9v-2a2 2 0 0 0 -2 -2h-10a2 2 0 0 0 -2 2v6a2 2 0 0 0 2 2h2",key:"svg-2"}]]),R=d("checks","IconChecks",[["path",{d:"M7 12l5 5l10 -10",key:"svg-0"}],["path",{d:"M2 12l5 5m5 -5l5 -5",key:"svg-1"}]]),te=d("circle-check","IconCircleCheck",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l2 2l4 -4",key:"svg-1"}]]),ae=d("circle","IconCircle",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}]]),se=d("click","IconClick",[["path",{d:"M3 12l3 0",key:"svg-0"}],["path",{d:"M12 3l0 3",key:"svg-1"}],["path",{d:"M7.8 7.8l-2.2 -2.2",key:"svg-2"}],["path",{d:"M16.2 7.8l2.2 -2.2",key:"svg-3"}],["path",{d:"M7.8 16.2l-2.2 2.2",key:"svg-4"}],["path",{d:"M12 12l9 3l-4 2l-2 4l-3 -9",key:"svg-5"}]]),re=d("exchange","IconExchange",[["path",{d:"M5 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M19 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M19 8v5a5 5 0 0 1 -5 5h-3l3 -3m0 6l-3 -3",key:"svg-2"}],["path",{d:"M5 16v-5a5 5 0 0 1 5 -5h3l-3 -3m0 6l3 -3",key:"svg-3"}]]),ne=d("minus","IconMinus",[["path",{d:"M5 12l14 0",key:"svg-0"}]]),A=d("progress","IconProgress",[["path",{d:"M10 20.777a8.942 8.942 0 0 1 -2.48 -.969",key:"svg-0"}],["path",{d:"M14 3.223a9.003 9.003 0 0 1 0 17.554",key:"svg-1"}],["path",{d:"M4.579 17.093a8.961 8.961 0 0 1 -1.227 -2.592",key:"svg-2"}],["path",{d:"M3.124 10.5c.16 -.95 .468 -1.85 .9 -2.675l.169 -.305",key:"svg-3"}],["path",{d:"M6.907 4.579a8.954 8.954 0 0 1 3.093 -1.356",key:"svg-4"}]]),de=d("send","IconSend",[["path",{d:"M10 14l11 -11",key:"svg-0"}],["path",{d:"M21 3l-6.5 18a.55 .55 0 0 1 -1 0l-3.5 -7l-7 -3.5a.55 .55 0 0 1 0 -1l18 -6.5",key:"svg-1"}]]),ie=d("shopping-bag-plus","IconShoppingBagPlus",[["path",{d:"M12.5 21h-3.926a3 3 0 0 1 -2.965 -2.544l-1.255 -8.152a2 2 0 0 1 1.977 -2.304h11.339a2 2 0 0 1 1.977 2.304l-.263 1.708",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}],["path",{d:"M9 11v-5a3 3 0 0 1 6 0v5",key:"svg-3"}]]),T=d("trash-x","IconTrashX",[["path",{d:"M4 7h16",key:"svg-0"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-1"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-2"}],["path",{d:"M10 12l4 4m0 -4l-4 4",key:"svg-3"}]]),ce=d("x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]);function oe({cart:l}){const h=()=>{y.post(`/admin/cart/increment/${l.product_slug}`,{order_id:l.order_id})},r=()=>{y.post(`/admin/cart/decrement/${l.product_slug}`,{order_id:l.order_id})},m=()=>{y.delete(`/admin/cart/${l.id}`,{onSuccess:()=>$.success("Delete Item!")})},p=`/storage/${l.product_picture}`;return t(o,{children:[t("div",{className:"flex order py-4 flex-flex-column gap-4",children:[t("div",{className:"flex gap-2 w-1/2 sm:w-2/3 overflow-hidden",children:[e("img",{src:l.product_picture?p:"https://via.placeholder.com/80",alt:"",className:"rounded h-16 w-16 hidden md:block"}),t("div",{className:"flex flex flex-col justify-between",children:[e("h6",{className:"text-base text-fourth",children:l.product_name}),t("h5",{className:"text-lg font-semibold text-fourth",children:["Rp. ",q(l.product_price)]})]})]}),t("div",{className:"w-1/2 sm:w-1/3 text-end flex flex-col flex-1 justify-between",children:[e(U,{size:16,color:"red",className:"ml-auto rounded border",onClick:m}),t("div",{className:"flex justify-between align-center  mt-5 ",children:[e(Q,{size:32,className:"text-white bg-primary border p-1 rounded cursor-pointer",onClick:h}),e("span",{className:"border-0 w-12 px-0 h-8 text-lg text-center mx-auto text-lg",children:l.quantity}),e(ne,{size:32,className:l.quantity==1?"bg-gray-400 text-white border p-1 rounded":"text-red-500 border p-1 rounded cursor-pointer",onClick:l.quantity==1?null:r})]})]})]}),e("hr",{})]})}function he({data:l,setData:h,onSubmit:r,carts:m,total_price:p}){let[M,i]=g.useState(!1);const[u,I]=g.useState(""),[N,v]=g.useState("");function C(s){i(!0),v("Invoice"),I(s)}function f(){i(!1)}const{errors:n,payments:_}=B().props,b=s=>{h(s.target.name,s.target.value)},[x,S]=g.useState(!1),z=s=>{const a=s.target.value===1;S(a)},w=parseFloat(l.charge)||0,O=w-p;return t(o,{children:[e(k,{name:"name",id:"name",className:"w-full",onChange:b,value:l.name,placeholder:"Customer name.."}),n.name?e(P,{className:"",value:n.name}):null,t("div",{className:"flex items-center gap-4",children:[t("div",{className:`w-1/2 ${l.charge!=""?"w-full":""} flex items-center pl-4 border border-gray-300 rounded`,children:[e(k,{id:"bordered-radio-1",type:"radio",checked:l.paid==1,onChange:s=>{b(s),z(s)},value:"1",name:"paid",className:"w-4 h-4 text-primary bg-gray-100 border-gray-300 focus:ring-primary"}),e("label",{htmlFor:"bordered-radio-1",className:"w-full py-2 ml-2 font-medium text-third",children:"Paid Now"})]}),t("div",{className:`${l.charge!=""?"hidden":""} w-1/2 flex items-center pl-4 border border-gray-300 rounded`,children:[e(k,{id:"bordered-radio-2",type:"radio",disabled:l.charge!=0&&l.payment_id!=="",checked:l.paid==2,onChange:s=>{b(s),z(s)},value:"2",name:"paid",className:" w-4 h-4 text-primary bg-gray-100 border-gray-300 focus:ring-primary"}),e("label",{htmlFor:"bordered-radio-2",className:"w-full py-2 ml-2 font-medium text-third",children:"Paid Later"})]})]}),e("div",{className:"flex justify-between w-full gap-x-4",children:x||l.paid==1?t("div",{className:"flex flex-col w-full",children:[e(G,{value:l.payment_id,data:_,className:"w-full",placeholder:"Payment",onChange:s=>h("payment_id",s)}),n.payment_id?e(P,{className:"",value:n.payment_id}):null]}):""}),x||l.paid==1?t(o,{children:[e(k,{type:"number",min:l.paid==1?1:"",name:"charge",id:"charge",className:"w-full",value:l.charge,onChange:b,placeholder:"Charge.."}),n.charge?e(P,{className:"",value:n.charge}):null]}):"",e("div",{className:"pb-4 flex items-end flex-1 justify-end",children:l.charge!=0||l.paid==1?e(o,{children:e(j,{type:"button",onClick:()=>C("create"),disabled:w<p||l.payment_id=="",className:"bg-violet-600 text-white px-3 py-4 w-full rounded",children:"Buy"})}):e(o,{children:e(j,{className:"bg-violet-600 text-white px-3 py-4 w-full rounded",disabled:l.paid=="",children:"Confirm"})})}),t(Y,{isOpen:M,onClose:()=>i(!1),size:"1/3",type:u,title:N,children:[t("div",{className:"mb-6 relative",children:[t("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3.5 pointer-events-none",children:[e(le,{color:"green"})," ",e("sup",{className:"ml-1",children:"Rp."})]}),e(k,{type:"number",name:"charge",id:"charge",className:"w-full pl-16",value:l.charge,onChange:b,placeholder:"Charge.."})]}),t("div",{className:"mb-6 relative",children:[t("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3.5 pointer-events-none",children:[e(re,{color:"orange"})," ",e("sup",{className:"ml-1",children:"Rp."})]}),e(k,{type:"number",readOnly:!0,disabled:!0,name:"change",id:"change",className:"w-full pl-16",value:O,placeholder:"Change.."})]}),t("div",{className:"flex gap-4",children:[e(E,{onClick:()=>f(),children:e(ce,{})}),e(j,{onClick:s=>{s.preventDefault(),sendBill(),r(s),i(!1)},className:"bg-orange-600 text-white px-3 py-4 w-full rounded",disabled:w<p||l.email==null||l.email=="",children:e(de,{})}),e(j,{onClick:s=>{s.preventDefault(),r(s),i(!1)},className:"bg-violet-600 text-white px-3 py-4 w-full rounded",disabled:w<p,children:e(R,{})})]})]})]})}function me({invoice:l,onClick:h}){let[r,m]=g.useState(!1);const[p,M]=g.useState(""),[i,u]=g.useState(""),I=f=>{const n=new SpeechSynthesisUtterance(`Pesanan atas Nama ${f}`);n.lang="id-ID",window.speechSynthesis.speak(n)};function N(f,n){m(!0),M(n),u(f)}function v(){m(!1)}const C=f=>{y.post(`/admin/invoice/${f}`,{_method:"put"},{onSuccess:()=>{m(!1),$.success("Invoice has been added!")}})};return t("div",{className:"flex gap-x-2 p-2 w-1/4 border border-secondary rounded text-white",children:[t("div",{className:"flex w-full gap-x-1",children:[t("div",{className:"h-16 w-full text-fourth flex flex-col justify-between",children:[e("h5",{className:"w-full font-semibold text-base text-fourth",children:l.name}),t("span",{className:"text-third text-sm text-left",children:[l.total_quantity," Item"]})]}),t("div",{className:"bg-white flex items-end flex-col flex-1 gap-y-2 h-full justify-between h-16 w-full text-fourth",children:[e("button",{onClick:()=>{l.charge!==0&&N(l.order_id,l.name)},className:`font-semibold text-sm flex items-center gap-x-2 h-full px-1 rounded text-white ${l.status==1?"bg-green-500":"bg-yellow-400"} ${l.charge==0||l.status==1?"cursor-not-allowed":""}`,disabled:l.charge==0||l.status==1,children:l.charge==0?e(A,{size:26}):e(o,{children:l.status==1?e(R,{size:26}):e(A,{size:26})})}),t("div",{className:"bg-sky font-semibold text-sm flex items-center gap-x-2 h-full px-1 rounded text-white",children:[" ",l.charge==0?e(ae,{size:26}):e(te,{size:26})]})]}),l.status==1?e(o,{children:'""'}):e(o,{children:t("div",{className:"flex flex-col justify-between item-center gap-y-2",children:[e("button",{type:"button",onClick:()=>I(l.name),className:"flex justify-center items-center rounded bg-primary px-1 h-full",children:e(ee,{size:26,className:"p-0 m-0 font-bold"})}),t("button",{onClick:h,className:"flex justify-center items-center rounded bg-violet px-1 h-full",children:[e(se,{})," "]})]})})]}),e(V,{isToast:r,name:"Confirm",onClose:()=>m(!1),title:p,children:t("div",{className:"flex justify-end gap-2 justify-center",children:[e(E,{onClick:()=>v(),children:"No"}),e(j,{onClick:()=>C(i),children:"Yes"})]})})]})}function pe({product:l,setIsOrderListOpen:h}){const r=()=>{console.log(l),y.post(`/admin/cart/${l.slug}`,{order_id:l.order_id},{onSuccess:()=>{h(!0),X.success("Add to Cart!")}})};return t("div",{className:"max-h-[420px] mb-4 relative flex flex-1 justify-between flex-col",children:[e("span",{className:"bg-white opacity-50 text-sm text-black absolute p-1 px-1.5 rounded opacity-[0.8] shadow right-4 top-4",children:l.category.name}),t("div",{children:[t("button",{className:"rounded text-center hover:bg-primary hover:text-white flex items-center justify-center bg-white w-16 text-violet h-16 absolute right-4 bottom-32",onClick:r,children:[e(ie,{size:32})," "]}),e("img",{src:l.picture?l.picture:"https://via.placeholder.com/400",alt:l.name,className:"rounded h-[250px] w-full"})]}),t("div",{className:"py-2",children:[e("p",{className:"text-third py-4 text-lg",children:l.name}),t("h6",{className:"text-3xl font-bold text-fourth",children:[" ",e("sup",{className:"font-light",children:" Rp."})," ",q(l.price)]})]})]})}function ue({categories:l,total_categories:h,carts:r,invoices:m,payments:p,...M}){const[i,u]=g.useState(!0),[I,N]=g.useState(null),{data:v,meta:C,links:f}=M.products,n=r.reduce((a,c)=>a+c.price,0),_=r.reduce((a,c)=>a+c.quantity,0),{url:b}=B(),{data:x,setData:S}=D({id:"",name:"",payment_id:"",charge:"",order_id:"",total_price:"",paid:""}),z=()=>{u(!i)},w=a=>{a?(S({id:a.order_id,name:a.name,charge:a.charge,paid:a.paid,payment_id:a.payment_id.id,carts:r,total_price:n,quantity:_}),y.get("/admin/transaction",{order_id:a.order_id},{preserveState:!0}),N(a),u(!0)):(u(!0),N(null))},O=a=>{a.preventDefault(),y.post("/admin/invoice",{...x,id:x.order_id,carts:r,total:n,quantity:_,order_id:x.order_id,payment_id:x.payment_id.id},{onSuccess:()=>{S({id:"",name:"",carts:"",total:"",payment_id:"",charge:""}),$.success("Invoice has been added!"),u(!1)}})},s=a=>{y.get(b,{category:a},{})};return t(o,{children:[e(F,{title:"Menu"}),e(W,{children:t("div",{className:"flex w-full",children:[e("button",{className:"block fixed z-[100] bg-white rounded right-4 top-18 mt-1  p-4 text-primary",onClick:z,children:i?e(Z,{}):e(K,{})}),t("div",{className:`bg-white ${i?"w-3/4":"w-full"}`,children:[e("div",{className:"flex w-full mt-6 scrolling-wrapper overflow-x-scroll overflow-y-hidden pb-1 flex-nowrap gap-x-4",children:m.length>0?e(o,{children:m.map((a,c)=>e(me,{invoice:a,onClick:()=>w(a)},c))}):t("div",{className:"flex justify-start items-center flex-1",children:[t("h1",{className:"text-third mr-2",children:[e(T,{size:24})," "]}),e("p",{className:"text-third text-lg",children:"Empty Order List"})]})}),e("hr",{className:"my-4"}),t("div",{className:"flex w-full scrolling-wrapper overflow-x-scroll pb-1 flex-nowrap gap-x-4",children:[e(L,{href:route("admin.transaction"),className:"flex text-white",children:t("div",{className:"w-32 h-18 bg-primary rounded p-2 shadow",children:[e("p",{className:"block",children:"All Menu"}),t("h6",{className:"text-lg font-semibold",children:[h," items"]})]})}),l.map((a,c)=>e("button",{onClick:()=>s(a.slug),className:"flex rounded text-white",children:t("div",{className:"w-32 h-18 text-left rounded border border-secondary text-fourth p-2",children:[e("p",{className:"text-third",children:a.name}),t("h6",{className:"text-lg font-semibold",children:[a.products_count," items"]})]})},c))]}),t("div",{className:"w-full",children:[e("hr",{className:"my-4"}),v.length>0?e("div",{className:`grid grid-cols-1 sm:grid-cols-2 ${i?"md:grid-cols-4":"md:grid-cols-5"}  lg:grid-cols-lg-4 gap-4 gap-y-8 w-full flex-wrap`,children:v.map((a,c)=>e(pe,{product:a,setIsOrderListOpen:u},c))}):t("div",{className:"flex justify-center items-center flex-col flex-1 h-[280px]",children:[t("h1",{className:"text-third",children:[e(T,{size:64})," "]}),e("p",{className:"text-third mt-4 text-lg",children:"Empty Menu"})]}),v.length>0&&e(H,{meta:C,links:f})]})]}),t("div",{className:`w-3/4 sm:w-2/5 md:w-1/4 flex flex-col bg-white top-16 right-0 bottom-0 fixed max-h-screen border-l border-b rounded-bl border-gray-300 ml-2 ${i?"block":"hidden"}`,children:[t("div",{className:"fixed bg top-16 w-full flex flex-col justify-end",children:[e("h3",{className:"text-xl pl-4 bg-white font-semibold text-fourth py-5",children:"Order Details"}),e("hr",{})]}),e("div",{className:"px-4 h-3/6 flex flex-col h-full justify-start bg-white flex-1 pt-16 scrolling-wrapper overflow-y-scroll",children:e("div",{className:"flex flex-col flex-1",children:r.length>0?e(o,{children:r.map((a,c)=>e(oe,{cart:a,selectedOrder:I},c))}):t("div",{className:"flex justify-center items-center flex-col flex-1 h-[280px]",children:[t("h1",{className:"text-secondary",children:[e(T,{size:64,stroke:1})," "]}),e("p",{className:"text-third mt-4 text-lg",children:"Empty Order"})]})})}),e("div",{className:"h-max w-full px-4 pb-0 bg-white",children:t("div",{className:"space-y-3 flex flex-col justify-start mb-4",children:[e("hr",{}),t("div",{className:"flex justify-between",children:[e("p",{className:"text-lg text-third",children:"Quantity"}),e("p",{className:"text-lg font-bold text-slate-600",children:_})]}),t("div",{className:"flex justify-between",children:[e("p",{className:"text-lg font-semibold text-third",children:"Total"}),t("p",{className:"text-lg font-bold text-slate-600",children:["Rp. ",q(n)]})]}),t("form",{onSubmit:O,className:"w-full space-y-4",children:[e(he,{onSubmit:O,total_price:n,carts:r,data:x,setData:S}),e("hr",{})]})]})})]})]})})]})}ue.layout=l=>e(J,{children:l});export{ue as default};
