import{q as G,j as r,F as S,a as e,r as m,W as H,b as J,y as K}from"./app-081f3543.js";import{A as R,I as X}from"./ActionLink-fdfbf142.js";import{A as y}from"./Actionbutton-d06f7bce.js";import{C as Z}from"./Container-9e3dc6e2.js";import{M as ee}from"./Modal-2665796d.js";import{P as ae}from"./Pagination-c5fd78cd.js";import{P as C}from"./PrimaryButton-a074050f.js";import{S as I}from"./SecondaryButton-695f0f2c.js";import{I as d}from"./InputLabel-3eeb76a6.js";import{T as o}from"./TextInput-b48b3dcc.js";import{I as re}from"./InputFIle-a6753a49.js";import{T as se}from"./Textarea-060af8a8.js";import{T as s}from"./Table-ee63abb5.js";import{T as le}from"./Toast-1b3d1cf2.js";import{A as ie}from"./App-4fd9dbe3.js";import{_ as T}from"./index-f1485e47.js";import{I as te}from"./IconPlus-425103cf.js";import{I as ne}from"./IconEdit-e26e7685.js";import{I as ce}from"./IconTrash-4d8bee97.js";import"./createReactComponent-10853b87.js";import"./transition-cc3e1cad.js";function me({data:i,setData:p}){const{errors:l}=G().props,t=u=>{p(u.target.name,u.target.value)};return r(S,{children:[r("div",{className:"mb-6",children:[e(d,{htmlFor:"picture",value:"Picture"}),e(re,{picture:i.picture,name:"picture",id:"picture",className:"text-third",onChange:u=>p("picture",u.target.files[0])}),l.picture?e(Error,{className:"",value:l.picture}):null]}),r("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[r("div",{className:"mb-6",children:[e(d,{htmlFor:"name",value:"Name"}),e(o,{name:"name",id:"name",className:"w-full",onChange:t,value:i.name}),l.name?e(Error,{className:"",value:l.name}):null]}),r("div",{className:"mb-6",children:[e(d,{htmlFor:"username",value:"Username"}),e(o,{name:"username",id:"username",className:"w-full",onChange:t,value:i.username}),l.username?e(Error,{className:"",value:l.username}):null]})]}),r("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[r("div",{className:"mb-6",children:[e(d,{htmlFor:"email",value:"Email"}),e(o,{type:"email",name:"email",id:"email",className:"w-full",onChange:t,value:i.email}),l.email?e(Error,{className:"",value:l.email}):null]}),r("div",{className:"mb-6",children:[e(d,{htmlFor:"number_phone",value:"Number Phone"}),e(o,{type:"number",name:"number_phone",id:"number_phone",className:"w-full",onChange:t,value:i.number_phone}),l.number_phone?e(Error,{className:"",value:l.number_phone}):null]})]}),e("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:r("div",{className:"mb-6",children:[e(d,{htmlFor:"is_active",value:"Actives"}),r("div",{className:"flex items-center gap-4",children:[r("div",{className:`w-1/2 flex items-center pl-4 border ${i.is_active==1?"border-primary":"border-gray-300"} rounded`,children:[e(o,{id:"bordered-radio-1",type:"radio",onChange:t,checked:i.is_active==1,value:"1",name:"is_active",className:"w-4 h-4 text-primary bg-gray-100 border-gray-300 focus:ring-primary"}),e("label",{htmlFor:"bordered-radio-1",className:"w-full py-2 ml-2 font-medium text-third",children:"Active"})]}),r("div",{className:`w-1/2 flex items-center pl-4 border ${i.is_active==0?"border-primary":"border-gray-300"} rounded`,children:[e(o,{id:"bordered-radio-2",type:"radio",onChange:t,checked:i.is_active==0,value:"0",name:"is_active",className:"w-4 h-4 text-primary bg-gray-100 border-gray-300 focus:ring-primary"}),e("label",{htmlFor:"bordered-radio-2",className:"w-full py-2 ml-2 font-medium text-third",children:"Non Active"})]})]}),l.is_active?e(Error,{className:"",value:l.is_active}):null]})}),r("div",{className:"mb-6",children:[e(d,{htmlFor:"address",value:"Address"}),e(se,{rows:"6",name:"address",id:"address",onChange:t,value:i.address}),l.address?e(Error,{className:"",value:l.address}):null]})]})}function de({total_suppliers:i,...p}){const{data:l,meta:t,links:u}=p.suppliers,[A,k]=m.useState(""),{delete:F,post:E,put:P,data:v,setData:f}=H({name:"",icon:""});let[j,h]=m.useState(!1),[M,N]=m.useState(!1);const[z,D]=m.useState(""),[$,B]=m.useState(""),[g,L]=m.useState(""),[w,b]=m.useState("");function x(a,n){if(h(!0),D("Supplier"),L(n),b(a),a){const c=l.find(Y=>Y.username===a);b(a),f({name:c.name,username:c.username,email:c.email,number_phone:c.number_phone,address:c.address,picture:c.picture,is_active:c.is_active})}else b(""),f({name:"",username:"",email:"",number_phone:"",address:"",picture:"",status:""})}function U(a,n){N(!0),B(n),b(a)}function _(){h(!1)}function O(){N(!1)}const Q=a=>{a.preventDefault(),E(route("admin.supplier.index"),{data:v,onSuccess:()=>{T.success("Supplier has been created!"),h(!1),f({name:"",icon:""})}})},q=a=>n=>{n.preventDefault(),P(route("admin.supplier.update",a),{...v,onSuccess:()=>{T.success("Supplier has been updated!"),h(!1)}})},V=a=>{F(route("admin.supplier.destroy",a.id),{onSuccess:()=>{T.success("Supplier has been deleted!"),N(!1)}})},W=a=>{a.preventDefault(),k(a.target.value),K.get("/admin/setting/supplier",{search:a.target.value},{preserveState:!0})};return r(S,{children:[e(J,{title:"Setting"}),r(Z,{children:[e("h3",{className:"text-2xl mt-10 mb-4 font-semibold text-fourth",children:"Suppliers"}),r("div",{className:"flex justify-between gap-2 w-full item-center my-2",children:[r("div",{className:"flex gap-2",children:[e(R,{href:route("admin.dashboard"),children:e(X,{size:18})}),e(y,{onClick:()=>x("","create"),type:"button",children:e(te,{size:18})})]}),e(o,{type:"search",className:"w-3/4 md:w-1/4",placeholder:"Search supplier..",defaultValue:A,onChange:W})]}),e("div",{className:"w-full"}),r(s,{children:[e(s.Thead,{children:r("tr",{children:[e(s.Th,{children:"#"}),e(s.Th,{children:"Name"}),e(s.Th,{children:"Username"}),e(s.Th,{children:"Email"}),e(s.Th,{children:"Number Phone"}),e(s.Th,{children:"Address"}),e(s.Th,{children:"Picture"}),e(s.Th,{children:"Action"})]})}),e(s.Tbody,{children:l.length>0?e(S,{children:l.map((a,n)=>r("tr",{className:`${a.is_active===1?"bg-white":"bg-secondary"} border-b`,children:[e(s.Td,{className:"w-5",children:t.from+n}),e(s.Td,{children:a.name}),e(s.Td,{children:a.username}),e(s.Td,{children:a.email}),e(s.Td,{children:a.number_phone}),e(s.Td,{children:a.address}),e(s.Td,{children:e("img",{src:a.picture?a.picture:"https://flowbite.com/docs/images/blog/image-1.jpg",className:"rounded w-12 h-12"})}),e(s.Td,{className:"w-10",children:r("div",{className:"flex flex-nowrap gap-2",children:[e(y,{className:"w-8 h-8 bg-yellow-400",type:"button",onClick:()=>x(a.username,"edit"),children:e(ne,{size:18})}),e(y,{className:"w-8 h-8 bg-red-500",type:"button",onClick:()=>U(a,a.name),children:e(ce,{size:18})})]})})]},n))}):e("tr",{className:"bg-white border-b text-secondary text-center",children:e(s.Td,{colSpan:"9",children:"No data"})})})]}),l.length>0&&r("div",{className:"flex w-full justify-between items-center",children:[e(ae,{meta:t,links:u}),r("p",{className:"text-sm text-third mt-10",children:["Total Suppliers:"," ",e("span",{className:"font-bold",children:i})," "]})]}),e(ee,{isOpen:j,setIsOpen:h,size:"2/3",type:g,title:z,onCancel:_,children:r("form",{onSubmit:g==="create"?Q:q(w),className:"mt-6",children:[e(me,{data:v,setData:f}),r("div",{className:"flex justify-end gap-2",children:[e(I,{onClick:_,children:"Cancel"}),e(C,{type:"submit",children:g==="create"?"Create":"Update"})]})]})}),e(le,{isToast:M,title:`Tindakan ini akan memulai proses menghapus Supplier. Apakah Anda ingin menghapus ${$}? `,children:r("div",{className:"flex justify-end gap-2",children:[e(I,{className:"w-32",onClick:()=>O(),children:"No"}),e(C,{className:"w-32",onClick:()=>{V(w)},children:"Yes"})]})})]})]})}de.layout=i=>e(ie,{children:i});export{de as default};
