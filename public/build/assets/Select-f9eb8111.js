import{r as s,m as U,j as ee,a as T}from"./app-e84518f4.js";import{c as K}from"./TextInput-aba27e7c.js";import{s as ae,b as P,o as b,O as te,U as F,y as k,u as C,p as H,g as Le,e as q,x as Ie,C as E,d as Te,c as Y,q as we}from"./transition-d5ee3e1f.js";import{b as De,h as $e,T as Pe,u as Ce,a as Fe,I as V,o as ke,c as h,r as Ee,d as Ae}from"./keyboard-2bfe6c0d.js";function le(e,r){let[t,o]=s.useState(e),a=ae(e);return P(()=>o(a.current),[a,o,...r]),t}function Me(e,r,t){let[o,a]=s.useState(t),n=e!==void 0,i=s.useRef(n),u=s.useRef(!1),p=s.useRef(!1);return n&&!i.current&&!u.current?(u.current=!0,i.current=n,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!n&&i.current&&!p.current&&(p.current=!0,i.current=n,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[n?e:o,b(d=>(n||a(d),r==null?void 0:r(d)))]}function re(e){var r;if(e.type)return e.type;let t=(r=e.as)!=null?r:"button";if(typeof t=="string"&&t.toLowerCase()==="button")return"button"}function Ne(e,r){let[t,o]=s.useState(()=>re(e));return P(()=>{o(re(e))},[e.type,e.as]),P(()=>{t||r.current&&r.current instanceof HTMLButtonElement&&!r.current.hasAttribute("type")&&o("button")},[t,r]),t}function ne(e){return[e.screenX,e.screenY]}function Be(){let e=s.useRef([-1,-1]);return{wasMoved(r){let t=ne(r);return e.current[0]===t[0]&&e.current[1]===t[1]?!1:(e.current=t,!0)},update(r){e.current=ne(r)}}}function je(e){throw new Error("Unexpected object: "+e)}var L=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(L||{});function Qe(e,r){let t=r.resolveItems();if(t.length<=0)return null;let o=r.resolveActiveIndex(),a=o??-1;switch(e.focus){case 0:{for(let n=0;n<t.length;++n)if(!r.resolveDisabled(t[n],n,t))return n;return o}case 1:{for(let n=a-1;n>=0;--n)if(!r.resolveDisabled(t[n],n,t))return n;return o}case 2:{for(let n=a+1;n<t.length;++n)if(!r.resolveDisabled(t[n],n,t))return n;return o}case 3:{for(let n=t.length-1;n>=0;--n)if(!r.resolveDisabled(t[n],n,t))return n;return o}case 4:{for(let n=0;n<t.length;++n)if(r.resolveId(t[n],n,t)===e.id)return n;return o}case 5:return null;default:je(e)}}function ue(e={},r=null,t=[]){for(let[o,a]of Object.entries(e))ce(t,se(r,o),a);return t}function se(e,r){return e?e+"["+r+"]":r}function ce(e,r,t){if(Array.isArray(t))for(let[o,a]of t.entries())ce(e,se(r,o.toString()),a);else t instanceof Date?e.push([r,t.toISOString()]):typeof t=="boolean"?e.push([r,t?"1":"0"]):typeof t=="string"?e.push([r,t]):typeof t=="number"?e.push([r,`${t}`]):t==null?e.push([r,""]):ue(t,r,e)}let oe=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function ie(e){var r,t;let o=(r=e.innerText)!=null?r:"",a=e.cloneNode(!0);if(!(a instanceof HTMLElement))return o;let n=!1;for(let u of a.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))u.remove(),n=!0;let i=n?(t=a.innerText)!=null?t:"":o;return oe.test(i)&&(i=i.replace(oe,"")),i}function Ue(e){let r=e.getAttribute("aria-label");if(typeof r=="string")return r.trim();let t=e.getAttribute("aria-labelledby");if(t){let o=t.split(" ").map(a=>{let n=document.getElementById(a);if(n){let i=n.getAttribute("aria-label");return typeof i=="string"?i.trim():ie(n).trim()}return null}).filter(Boolean);if(o.length>0)return o.join(", ")}return ie(e).trim()}function ze(e){let r=s.useRef(""),t=s.useRef("");return b(()=>{let o=e.current;if(!o)return"";let a=o.innerText;if(r.current===a)return t.current;let n=Ue(o).trim().toLowerCase();return r.current=a,t.current=n,n})}var He=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(He||{}),qe=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(qe||{}),Ve=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Ve||{}),We=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.RegisterLabel=7]="RegisterLabel",e))(We||{});function X(e,r=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,o=Ae(r(e.options.slice()),n=>n.dataRef.current.domRef.current),a=t?o.indexOf(t):null;return a===-1&&(a=null),{options:o,activeOptionIndex:a}}let Ge={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},0(e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let r=e.activeOptionIndex,{isSelected:t}=e.dataRef.current,o=e.options.findIndex(a=>t(a.dataRef.current.value));return o!==-1&&(r=o),{...e,listboxState:0,activeOptionIndex:r}},2(e,r){var t;if(e.dataRef.current.disabled||e.listboxState===1)return e;let o=X(e),a=Qe(r,{resolveItems:()=>o.options,resolveActiveIndex:()=>o.activeOptionIndex,resolveId:n=>n.id,resolveDisabled:n=>n.dataRef.current.disabled});return{...e,...o,searchQuery:"",activeOptionIndex:a,activationTrigger:(t=r.trigger)!=null?t:1}},3:(e,r)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let t=e.searchQuery!==""?0:1,o=e.searchQuery+r.value.toLowerCase(),a=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+t).concat(e.options.slice(0,e.activeOptionIndex+t)):e.options).find(i=>{var u;return!i.dataRef.current.disabled&&((u=i.dataRef.current.textValue)==null?void 0:u.startsWith(o))}),n=a?e.options.indexOf(a):-1;return n===-1||n===e.activeOptionIndex?{...e,searchQuery:o}:{...e,searchQuery:o,activeOptionIndex:n,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,r)=>{let t={id:r.id,dataRef:r.dataRef},o=X(e,a=>[...a,t]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(r.dataRef.current.value)&&(o.activeOptionIndex=o.options.indexOf(t)),{...e,...o}},6:(e,r)=>{let t=X(e,o=>{let a=o.findIndex(n=>n.id===r.id);return a!==-1&&o.splice(a,1),o});return{...e,...t,activationTrigger:1}},7:(e,r)=>({...e,labelId:r.id})},J=s.createContext(null);J.displayName="ListboxActionsContext";function A(e){let r=s.useContext(J);if(r===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,A),t}return r}let Z=s.createContext(null);Z.displayName="ListboxDataContext";function M(e){let r=s.useContext(Z);if(r===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,M),t}return r}function Ke(e,r){return C(r.type,Ge,e,r)}let Xe=s.Fragment;function Ye(e,r){let{value:t,defaultValue:o,form:a,name:n,onChange:i,by:u=(c,f)=>c===f,disabled:p=!1,horizontal:d=!1,multiple:m=!1,...R}=e;const $=d?"horizontal":"vertical";let w=k(r),[y=m?[]:void 0,I]=Me(t,i,o),[x,l]=s.useReducer(Ke,{dataRef:s.createRef(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),g=s.useRef({static:!1,hold:!1}),N=s.useRef(null),B=s.useRef(null),W=s.useRef(null),O=b(typeof u=="string"?(c,f)=>{let S=u;return(c==null?void 0:c[S])===(f==null?void 0:f[S])}:u),D=s.useCallback(c=>C(v.mode,{1:()=>y.some(f=>O(f,c)),0:()=>O(y,c)}),[y]),v=s.useMemo(()=>({...x,value:y,disabled:p,mode:m?1:0,orientation:$,compare:O,isSelected:D,optionsPropsRef:g,labelRef:N,buttonRef:B,optionsRef:W}),[y,p,m,x]);P(()=>{x.dataRef.current=v},[v]),De([v.buttonRef,v.optionsRef],(c,f)=>{var S;l({type:1}),$e(f,Pe.Loose)||(c.preventDefault(),(S=v.buttonRef.current)==null||S.focus())},v.listboxState===0);let de=s.useMemo(()=>({open:v.listboxState===0,disabled:p,value:y}),[v,p,y]),pe=b(c=>{let f=v.options.find(S=>S.id===c);f&&G(f.dataRef.current.value)}),fe=b(()=>{if(v.activeOptionIndex!==null){let{dataRef:c,id:f}=v.options[v.activeOptionIndex];G(c.current.value),l({type:2,focus:L.Specific,id:f})}}),be=b(()=>l({type:0})),ve=b(()=>l({type:1})),xe=b((c,f,S)=>c===L.Specific?l({type:2,focus:L.Specific,id:f,trigger:S}):l({type:2,focus:c,trigger:S})),me=b((c,f)=>(l({type:5,id:c,dataRef:f}),()=>l({type:6,id:c}))),ge=b(c=>(l({type:7,id:c}),()=>l({type:7,id:null}))),G=b(c=>C(v.mode,{0(){return I==null?void 0:I(c)},1(){let f=v.value.slice(),S=f.findIndex(Q=>O(Q,c));return S===-1?f.push(c):f.splice(S,1),I==null?void 0:I(f)}})),he=b(c=>l({type:3,value:c})),ye=b(()=>l({type:4})),Oe=s.useMemo(()=>({onChange:G,registerOption:me,registerLabel:ge,goToOption:xe,closeListbox:ve,openListbox:be,selectActiveOption:fe,selectOption:pe,search:he,clearSearch:ye}),[]),Se={ref:w},j=s.useRef(null),Re=H();return s.useEffect(()=>{j.current&&o!==void 0&&Re.addEventListener(j.current,"reset",()=>{I==null||I(o)})},[j,I]),U.createElement(J.Provider,{value:Oe},U.createElement(Z.Provider,{value:v},U.createElement(Le,{value:C(v.listboxState,{0:q.Open,1:q.Closed})},n!=null&&y!=null&&ue({[n]:y}).map(([c,f],S)=>U.createElement(Ce,{features:Fe.Hidden,ref:S===0?Q=>{var _;j.current=(_=Q==null?void 0:Q.closest("form"))!=null?_:null}:void 0,...Ie({key:c,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:a,disabled:p,name:c,value:f})})),E({ourProps:Se,theirProps:R,slot:de,defaultTag:Xe,name:"Listbox"}))))}let Je="button";function Ze(e,r){var t;let o=V(),{id:a=`headlessui-listbox-button-${o}`,...n}=e,i=M("Listbox.Button"),u=A("Listbox.Button"),p=k(i.buttonRef,r),d=H(),m=b(x=>{switch(x.key){case h.Space:case h.Enter:case h.ArrowDown:x.preventDefault(),u.openListbox(),d.nextFrame(()=>{i.value||u.goToOption(L.First)});break;case h.ArrowUp:x.preventDefault(),u.openListbox(),d.nextFrame(()=>{i.value||u.goToOption(L.Last)});break}}),R=b(x=>{switch(x.key){case h.Space:x.preventDefault();break}}),$=b(x=>{if(Ee(x.currentTarget))return x.preventDefault();i.listboxState===0?(u.closeListbox(),d.nextFrame(()=>{var l;return(l=i.buttonRef.current)==null?void 0:l.focus({preventScroll:!0})})):(x.preventDefault(),u.openListbox())}),w=le(()=>{if(i.labelId)return[i.labelId,a].join(" ")},[i.labelId,a]),y=s.useMemo(()=>({open:i.listboxState===0,disabled:i.disabled,value:i.value}),[i]),I={ref:p,id:a,type:Ne(e,i.buttonRef),"aria-haspopup":"listbox","aria-controls":(t=i.optionsRef.current)==null?void 0:t.id,"aria-expanded":i.listboxState===0,"aria-labelledby":w,disabled:i.disabled,onKeyDown:m,onKeyUp:R,onClick:$};return E({ourProps:I,theirProps:n,slot:y,defaultTag:Je,name:"Listbox.Button"})}let _e="label";function et(e,r){let t=V(),{id:o=`headlessui-listbox-label-${t}`,...a}=e,n=M("Listbox.Label"),i=A("Listbox.Label"),u=k(n.labelRef,r);P(()=>i.registerLabel(o),[o]);let p=b(()=>{var m;return(m=n.buttonRef.current)==null?void 0:m.focus({preventScroll:!0})}),d=s.useMemo(()=>({open:n.listboxState===0,disabled:n.disabled}),[n]);return E({ourProps:{ref:u,id:o,onClick:p},theirProps:a,slot:d,defaultTag:_e,name:"Listbox.Label"})}let tt="ul",rt=te.RenderStrategy|te.Static;function nt(e,r){var t;let o=V(),{id:a=`headlessui-listbox-options-${o}`,...n}=e,i=M("Listbox.Options"),u=A("Listbox.Options"),p=k(i.optionsRef,r),d=H(),m=H(),R=Te(),$=(()=>R!==null?(R&q.Open)===q.Open:i.listboxState===0)();s.useEffect(()=>{var l;let g=i.optionsRef.current;g&&i.listboxState===0&&g!==((l=ke(g))==null?void 0:l.activeElement)&&g.focus({preventScroll:!0})},[i.listboxState,i.optionsRef]);let w=b(l=>{switch(m.dispose(),l.key){case h.Space:if(i.searchQuery!=="")return l.preventDefault(),l.stopPropagation(),u.search(l.key);case h.Enter:if(l.preventDefault(),l.stopPropagation(),i.activeOptionIndex!==null){let{dataRef:g}=i.options[i.activeOptionIndex];u.onChange(g.current.value)}i.mode===0&&(u.closeListbox(),Y().nextFrame(()=>{var g;return(g=i.buttonRef.current)==null?void 0:g.focus({preventScroll:!0})}));break;case C(i.orientation,{vertical:h.ArrowDown,horizontal:h.ArrowRight}):return l.preventDefault(),l.stopPropagation(),u.goToOption(L.Next);case C(i.orientation,{vertical:h.ArrowUp,horizontal:h.ArrowLeft}):return l.preventDefault(),l.stopPropagation(),u.goToOption(L.Previous);case h.Home:case h.PageUp:return l.preventDefault(),l.stopPropagation(),u.goToOption(L.First);case h.End:case h.PageDown:return l.preventDefault(),l.stopPropagation(),u.goToOption(L.Last);case h.Escape:return l.preventDefault(),l.stopPropagation(),u.closeListbox(),d.nextFrame(()=>{var g;return(g=i.buttonRef.current)==null?void 0:g.focus({preventScroll:!0})});case h.Tab:l.preventDefault(),l.stopPropagation();break;default:l.key.length===1&&(u.search(l.key),m.setTimeout(()=>u.clearSearch(),350));break}}),y=le(()=>{var l;return(l=i.buttonRef.current)==null?void 0:l.id},[i.buttonRef.current]),I=s.useMemo(()=>({open:i.listboxState===0}),[i]),x={"aria-activedescendant":i.activeOptionIndex===null||(t=i.options[i.activeOptionIndex])==null?void 0:t.id,"aria-multiselectable":i.mode===1?!0:void 0,"aria-labelledby":y,"aria-orientation":i.orientation,id:a,onKeyDown:w,role:"listbox",tabIndex:0,ref:p};return E({ourProps:x,theirProps:n,slot:I,defaultTag:tt,features:rt,visible:$,name:"Listbox.Options"})}let ot="li";function it(e,r){let t=V(),{id:o=`headlessui-listbox-option-${t}`,disabled:a=!1,value:n,...i}=e,u=M("Listbox.Option"),p=A("Listbox.Option"),d=u.activeOptionIndex!==null?u.options[u.activeOptionIndex].id===o:!1,m=u.isSelected(n),R=s.useRef(null),$=ze(R),w=ae({disabled:a,value:n,domRef:R,get textValue(){return $()}}),y=k(r,R);P(()=>{if(u.listboxState!==0||!d||u.activationTrigger===0)return;let O=Y();return O.requestAnimationFrame(()=>{var D,v;(v=(D=R.current)==null?void 0:D.scrollIntoView)==null||v.call(D,{block:"nearest"})}),O.dispose},[R,d,u.listboxState,u.activationTrigger,u.activeOptionIndex]),P(()=>p.registerOption(o,w),[w,o]);let I=b(O=>{if(a)return O.preventDefault();p.onChange(n),u.mode===0&&(p.closeListbox(),Y().nextFrame(()=>{var D;return(D=u.buttonRef.current)==null?void 0:D.focus({preventScroll:!0})}))}),x=b(()=>{if(a)return p.goToOption(L.Nothing);p.goToOption(L.Specific,o)}),l=Be(),g=b(O=>l.update(O)),N=b(O=>{l.wasMoved(O)&&(a||d||p.goToOption(L.Specific,o,0))}),B=b(O=>{l.wasMoved(O)&&(a||d&&p.goToOption(L.Nothing))}),W=s.useMemo(()=>({active:d,selected:m,disabled:a}),[d,m,a]);return E({ourProps:{id:o,ref:y,role:"option",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,"aria-selected":m,disabled:void 0,onClick:I,onFocus:x,onPointerEnter:g,onMouseEnter:g,onPointerMove:N,onMouseMove:N,onPointerLeave:B,onMouseLeave:B},theirProps:i,slot:W,defaultTag:ot,name:"Listbox.Option"})}let at=F(Ye),lt=F(Ze),ut=F(et),st=F(nt),ct=F(it),z=Object.assign(at,{Button:lt,Label:ut,Options:st,Option:ct});function vt({className:e="w-full",data:r,value:t,onChange:o,placeholder:a="Select one"}){const[n,i]=s.useState(!1),u=d=>{o(d),i(!1)},p=r.filter(d=>d.id!==(t==null?void 0:t.id));return ee(z,{as:"div",className:K(" relative rounded",e),value:t,onChange:u,open:n,children:[ee(z.Button,{className:K("flex h-11 w-full items-center justify-between rounded border border-secondary px-4 focus:outline-none",e),children:[T("span",{className:"capitalize line-clamp-1 text-fourth",children:t.name||t||a}),T("div",{onClick:()=>i(!n),children:T("svg",{className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",children:T("path",{d:"M7 7l3-3 3 3m0 6l-3 3-3-3",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),T(we,{as:s.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:T(z.Options,{className:"z-50 absolute right-0 mt-1 max-h-[10rem] w-full overflow-y-auto rounded border border-secondary bg-white py-1 shadow-sm",children:p.map(d=>T(z.Option,{value:d,children:({selected:m,active:R})=>T("div",{className:K("flex cursor-pointer items-center py-1.5 px-4",R&&"bg-secondary/50",m&&"bg-primary font-semibold text-primary hover:bg-primary"),children:T("span",{className:"capitalize line-clamp-1 text-fourth",children:d.name})})},d.id))})})]})}export{vt as S};
