import{q as G,j as s,F as S,a as e,r as o,W as H,b as J,y as w}from"./app-50127253.js";import{A as x}from"./Actionbutton-61e1fa01.js";import{I as m}from"./InputLabel-cc2f457d.js";import{E as d,I as K,a as R,M as X}from"./Toast-5e3f78b2.js";import{T as u}from"./TextInput-01542f12.js";import{I as Z,S as ee}from"./Select-4bbdf47a.js";import{T as ae}from"./Textarea-7764c47a.js";import{C as se}from"./Container-58708669.js";import{M as te}from"./Modal-ca85eed3.js";import{P as re}from"./Pagination-a95b02de.js";import{P as F}from"./PrimaryButton-56a0c82f.js";import{S as I}from"./SecondaryButton-bc962aa5.js";import{T as t}from"./Table-e4273544.js";import{A as le}from"./App-f48d50a9.js";import{_}from"./index-f4d5d2b2.js";import{A as ne}from"./ActionLink-e34be557.js";import{I as ie}from"./IconEdit-fda570f0.js";import"./createReactComponent-f77338bd.js";import"./transition-42c9a528.js";import"./listbox-64a6e69d.js";import"./keyboard-038d4531.js";function ce({data:l,setData:p}){const{errors:r}=G().props,n=i=>{p(i.target.name,i.target.value)},y=[{id:1,name:"owner"},{id:2,name:"admin"},{id:3,name:"employee"}];return s(S,{children:[s("div",{className:"mb-6",children:[e(m,{htmlFor:"picture",value:"Picture"}),e(Z,{picture:l.picture,name:"picture",id:"picture",className:"text-third",onChange:i=>p("picture",i.target.files[0])}),r.picture?e(d,{className:"",value:r.picture}):null]}),s("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[s("div",{className:"mb-6",children:[e(m,{htmlFor:"name",value:"Name"}),e(u,{name:"name",id:"name",className:"w-full",onChange:n,value:l.name}),r.name?e(d,{className:"",value:r.name}):null]}),s("div",{className:"mb-6",children:[e(m,{htmlFor:"username",value:"Username"}),e(u,{name:"username",id:"username",className:"w-full",onChange:n,value:l.username}),r.username?e(d,{className:"",value:r.username}):null]})]}),s("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[s("div",{className:"mb-6",children:[e(m,{htmlFor:"email",value:"Email"}),e(u,{type:"email",name:"email",id:"email",className:"w-full",onChange:n,value:l.email}),r.email?e(d,{className:"",value:r.email}):null]}),s("div",{className:"mb-6",children:[e(m,{htmlFor:"number_phone",value:"Number Phone"}),e(u,{type:"number",name:"number_phone",id:"number_phone",className:"w-full",onChange:n,value:l.number_phone}),r.number_phone?e(d,{className:"",value:r.number_phone}):null]})]}),e("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:s("div",{className:"mb-6",children:[e(m,{htmlFor:"status",value:"Status"}),e(ee,{value:l.status,data:y,onChange:i=>p("status",i)}),r.status?e(d,{className:"",value:r.status}):null]})}),e("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:s("div",{className:"mb-6",children:[e(m,{htmlFor:"is_active",value:"Actives"}),s("div",{className:"flex items-center gap-4",children:[s("div",{className:`w-1/2 flex items-center pl-4 border ${l.is_active==1?"border-orange-500":"border-gray-300"} rounded`,children:[e(u,{id:"bordered-radio-1",type:"radio",onChange:n,checked:l.is_active==1,value:"1",name:"is_active",className:"w-4 h-4 text-orange-500 bg-gray-100 border-gray-300 focus:ring-orange-500"}),e("label",{htmlFor:"bordered-radio-1",className:"w-full py-2 ml-2 font-medium text-slate-500",children:"Active"})]}),s("div",{className:`w-1/2 flex items-center pl-4 border ${l.is_active==0?"border-orange-500":"border-gray-300"} rounded`,children:[e(u,{id:"bordered-radio-2",type:"radio",onChange:n,checked:l.is_active==0,value:"0",name:"is_active",className:"w-4 h-4 text-orange-500 bg-gray-100 border-gray-300 focus:ring-orange-500"}),e("label",{htmlFor:"bordered-radio-2",className:"w-full py-2 ml-2 font-medium text-slate-500",children:"Non Active"})]})]}),r.is_active?e(d,{className:"",value:r.is_active}):null]})}),s("div",{className:"mb-6",children:[e(m,{htmlFor:"address",value:"Address"}),e(ae,{rows:"6",name:"address",id:"address",onChange:n,value:l.address}),r.address?e(d,{className:"",value:r.address}):null]})]})}function me({total_employees:l,...p}){const{data:r,meta:n,links:y}=p.employees,[i,A]=o.useState(""),{delete:k,data:f,setData:g}=H({name:"",username:"",email:"",password:"",number_phone:"",address:"",picture:"",status:"",is_active:""});let[M,b]=o.useState(!1),[j,v]=o.useState(!1);const[P,U]=o.useState(""),[$,z]=o.useState(""),[T,B]=o.useState(""),[C,N]=o.useState("");function E(a,h){if(b(!0),U("Employee"),B(h),N(a),a){const c=r.find(Y=>Y.username===a);N(a),g({name:c.name,username:c.username,email:c.email,number_phone:c.number_phone,address:c.address,picture:c.picture,status:c.status,is_active:c.is_active})}else N(""),g({name:"",username:"",email:"",number_phone:"",address:"",picture:"",status:""})}function D(a,h){v(!0),z(h),N(a)}function L(){b(!1)}function O(){v(!1)}const Q=a=>{a.preventDefault(),w.post("/admin/setting/employee",{...f,status:f.status.name},{onSuccess:()=>{b(!1),g({name:"",username:"",email:"",address:"",status:"",picture:"",number_phone:""}),_.success("Employee has been created!")}})},q=a=>{a.preventDefault(),w.post(`/admin/setting/employee/${C}`,{_method:"put",...f,status:f.status.name},{onSuccess:()=>{b(!1),g({name:"",username:"",email:"",address:"",status:"",picture:"",number_phone:""}),_.success("Employee has been updated!")}})},V=a=>{k(route("admin.employee.destroy",a),{onSuccess:()=>{_.success("Employee has been deleted!"),v(!1)}})},W=a=>{a.preventDefault(),A(a.target.value),w.get("/admin/setting/employee",{search:a.target.value},{preserveState:!0})};return s(S,{children:[e(J,{title:"Setting"}),s(se,{children:[e("h3",{className:"text-2xl mt-10 mb-4 font-semibold text-slate-700",children:"Employees"}),s("div",{className:"flex justify-between gap-2 w-full item-center my-2",children:[s("div",{className:"flex gap-2",children:[e(ne,{href:route("admin.dashboard")}),e(x,{onClick:()=>E("","create"),type:"button",children:e(K,{size:18})})]}),e(u,{type:"search",className:"w-3/4 md:w-1/4",placeholder:"Search employee..",defaultValue:i,onChange:W})]}),e("div",{className:"w-full"}),s(t,{children:[e(t.Thead,{children:s("tr",{children:[e(t.Th,{children:"#"}),e(t.Th,{children:"Name"}),e(t.Th,{children:"Username"}),e(t.Th,{children:"Email"}),e(t.Th,{children:"Number Phone"}),e(t.Th,{children:"Address"}),e(t.Th,{children:"Status"}),e(t.Th,{children:"Picture"}),e(t.Th,{children:"Action"})]})}),e(t.Tbody,{children:r.length>0?e(S,{children:r.map((a,h)=>s("tr",{className:`${a.is_active===1?"bg-white":"bg-gray-300"} border-b text-gray-500`,children:[e(t.Td,{className:"w-5",children:n.from+h}),e(t.Td,{children:a.name}),e(t.Td,{children:a.username}),e(t.Td,{children:a.email}),e(t.Td,{children:a.number_phone}),e(t.Td,{children:a.address}),e(t.Td,{children:e("span",{className:`text-xs p-2 ${a.status=="employee"?"bg-green-500 text-white rounded":a.status=="admin"?"bg-yellow-400 text-white rounded":"bg-red-500 text-white rounded"}`,children:a.status.toUpperCase()})}),e(t.Td,{children:e("img",{src:a.picture?a.picture:"https://flowbite.com/docs/images/blog/image-1.jpg",className:"rounded w-12 h-12"})}),e(t.Td,{className:"w-10",children:s("div",{className:"flex flex-nowrap gap-2",children:[e(x,{className:"w-8 h-8 bg-yellow-400",type:"button",onClick:()=>E(a.username,"edit"),children:e(ie,{size:18})}),e(x,{className:"w-8 h-8 bg-red-500",type:"button",onClick:()=>D(a.username,a.name),children:e(R,{size:18})})]})})]},h))}):e("tr",{className:"bg-white border-b text-gray-500 text-center",children:e(t.Td,{colSpan:"9",children:"No data"})})})]}),r.length>0&&s("div",{className:"flex w-full justify-between items-center",children:[e(re,{meta:n,links:y}),s("p",{className:"text-sm text-slate-500 mt-10",children:["Total employees: ",e("span",{className:"font-bold",children:l})," "]})]}),e(te,{isOpen:M,onClose:()=>b(!1),size:"2/3",type:T,title:P,children:s("form",{onSubmit:T=="create"?Q:q,className:"mt-6",children:[e(ce,{data:f,setData:g}),s("div",{className:"flex justify-end gap-2",children:[e(I,{onClick:()=>L(),children:"Cancel"}),e(F,{type:"submit",children:T=="create"?"Create":"Update"})]})]})}),e(X,{isToast:j,onClose:()=>v(!1),title:$,children:s("div",{className:"flex justify-end gap-2 justify-center",children:[e(I,{onClick:()=>O(),children:"No"}),e(F,{onClick:()=>V(C),children:"Yes"})]})})]})]})}me.layout=l=>e(le,{children:l});export{me as default};
