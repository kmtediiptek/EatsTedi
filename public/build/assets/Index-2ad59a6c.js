import{q as G,j as a,F as N,a as e,r as o,W as J,b as K,y as R}from"./app-519d4450.js";import{A as X,I as Z}from"./ActionLink-253cabfe.js";import{A as y}from"./Actionbutton-c3908258.js";import{I as S}from"./InputLabel-32e3e1da.js";import{T}from"./TextInput-8e01371f.js";import{C as $}from"./Container-2edc54d1.js";import{M as ee}from"./Modal-5ea36325.js";import{P as te}from"./Pagination-51d480c1.js";import{P as w}from"./PrimaryButton-62f49806.js";import{S as I}from"./SecondaryButton-3d48acf9.js";import{T as n}from"./Table-4944571f.js";import{T as ae}from"./Toast-c79fcdec.js";import{A as ne}from"./App-a2ce6782.js";import{_ as b}from"./index-c4b4fe84.js";import{I as se}from"./IconPlus-ef78c30e.js";import{I as re}from"./IconEdit-a625cc83.js";import{I as oe}from"./IconTrash-f288ecce.js";import"./createReactComponent-eeb61691.js";import"./transition-57a4f24b.js";function le({data:l,setData:f}){const{errors:s}=G().props,c=d=>{f(d.target.name,d.target.value)};return a(N,{children:[a("div",{className:"mb-4",children:[e(S,{htmlFor:"name",value:"Name"}),e(T,{name:"name",id:"name",className:"w-full",onChange:c,value:l.name}),s.name?e(Error,{className:"",value:s.name}):null]}),a("div",{className:"mb-4",children:[e(S,{htmlFor:"icon",value:"Icon"}),e(T,{name:"icon",id:"icon",className:"w-full",onChange:c,value:l.icon}),s.icon?e(Error,{className:"",value:s.icon}):null]})]})}function ce({total_categories:l,...f}){const{data:s,meta:c,links:d}=f.categories,[j,k]=o.useState(""),{delete:A,post:M,put:z,data:p,setData:m}=J({name:"",icon:""});let[D,i]=o.useState(!1),[F,u]=o.useState(!1);const[P,E]=o.useState(""),[L,_]=o.useState(""),[g,B]=o.useState(""),[C,h]=o.useState("");function v(t,r){if(i(!0),E("Category"),B(r),h(t),t){const x=s.find(Y=>Y.slug===t);h(t),m({name:x.name,icon:x.icon})}else h(""),m({name:"",icon:""})}function O(t,r){u(!0),_(r),h(t)}function Q(){i(!1)}function U(){u(!1)}const q=t=>{t.preventDefault(),M(route("admin.category.index"),{data:p,onSuccess:()=>{b.success("Category has been created!"),i(!1),m({name:"",icon:""})}})},H=t=>r=>{r.preventDefault(),z(route("admin.category.update",t),{...p,onSuccess:()=>{b.success("Category has been updated!"),i(!1)}})},V=t=>{A(route("admin.category.destroy",t),{onSuccess:()=>{b.success("Category has been deleted!"),u(!1)}})},W=t=>{t.preventDefault(),k(t.target.value),R.get("/admin/setting/category",{search:t.target.value},{preserveState:!0})};return a(N,{children:[e(K,{title:"Setting"}),a($,{children:[e("h3",{className:"text-2xl mt-10 mb-4 font-semibold text-fourth",children:"Categories"}),a("div",{className:"flex justify-between gap-2 w-full item-center my-2",children:[a("div",{className:"flex gap-2",children:[e(X,{href:route("admin.dashboard"),children:e(Z,{size:18})}),e(y,{onClick:()=>v("","create"),type:"button",children:e(se,{size:18})})]}),e(T,{type:"search",className:"w-3/4 md:w-1/4",placeholder:"Search category..",defaultValue:j,onChange:W})]}),e("div",{className:"w-full"}),a(n,{children:[e(n.Thead,{children:a("tr",{children:[e(n.Th,{children:"#"}),e(n.Th,{children:"Name"}),e(n.Th,{children:"Icon"}),e(n.Th,{children:"Action"})]})}),e(n.Tbody,{children:s.length>0?e(N,{children:s.map((t,r)=>a("tr",{className:"bg-white border-b",children:[e(n.Td,{className:"w-5",children:c.from+r}),e(n.Td,{children:t.name}),a(n.Td,{children:[" ",e("div",{className:"w-10 h-10 p-2 border border-gray rounded",dangerouslySetInnerHTML:{__html:t.icon}})]}),e(n.Td,{className:"w-10",children:a("div",{className:"flex flex-nowrap gap-2",children:[e(y,{className:"w-8 h-8 bg-yellow-400",type:"button",onClick:()=>v(t.slug,"edit"),children:e(re,{size:18})}),e(y,{className:"w-8 h-8 bg-red-500",type:"button",onClick:()=>O(t.slug,t.name),children:e(oe,{size:18})})]})})]},r))}):e("tr",{className:"bg-white border-b text-secondary text-center",children:e(n.Td,{colSpan:"4",children:"No data"})})})]}),s.length>0&&a("div",{className:"flex w-full justify-between items-center",children:[e(te,{meta:c,links:d}),a("p",{className:"text-sm text-third mt-10",children:["Total Categories:"," ",e("span",{className:"font-bold",children:l})," "]})]}),e(ee,{isOpen:D,onClose:()=>i(!1),size:"1/3",type:g,title:P,children:a("form",{onSubmit:g=="create"?q:H(C),className:"mt-6",children:[e(le,{data:p,setData:m}),a("div",{className:"flex justify-end gap-2",children:[e(I,{onClick:()=>Q(),children:"Cancel"}),e(w,{type:"submit",children:g=="create"?"Create":"Update"})]})]})}),e(ae,{isToast:F,onClose:()=>u(!1),title:L,children:a("div",{className:"flex justify-end gap-2 justify-center",children:[e(I,{onClick:()=>U(),children:"No"}),e(w,{onClick:()=>V(C),children:"Yes"})]})})]})]})}ce.layout=l=>e(ne,{children:l});export{ce as default};
