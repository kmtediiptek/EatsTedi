import{q as G,j as s,F as S,a as e,r as u,W as H,b as J,y as w}from"./app-081f3543.js";import{A as x}from"./Actionbutton-d06f7bce.js";import{I as c}from"./InputLabel-3eeb76a6.js";import{E as d}from"./Error-7eaef181.js";import{T as h}from"./TextInput-b48b3dcc.js";import{I as K}from"./InputFIle-a6753a49.js";import{S as R}from"./Select-a65f8575.js";import{T as X}from"./Textarea-060af8a8.js";import{C as Z}from"./Container-9e3dc6e2.js";import{M as ee}from"./Modal-2665796d.js";import{P as ae}from"./Pagination-c5fd78cd.js";import{P as F}from"./PrimaryButton-a074050f.js";import{S as I}from"./SecondaryButton-695f0f2c.js";import{T as r}from"./Table-ee63abb5.js";import{T as se}from"./Toast-1b3d1cf2.js";import{A as re}from"./App-4fd9dbe3.js";import{_}from"./index-f1485e47.js";import{A as te}from"./ActionLink-fdfbf142.js";import{I as le}from"./IconPlus-425103cf.js";import{I as ie}from"./IconEdit-e26e7685.js";import{I as ne}from"./IconTrash-4d8bee97.js";import"./transition-cc3e1cad.js";import"./createReactComponent-10853b87.js";function me({data:l,setData:f}){const{errors:t}=G().props,i=n=>{f(n.target.name,n.target.value)},y=[{id:1,name:"owner"},{id:2,name:"admin"},{id:3,name:"employee"}];return s(S,{children:[s("div",{className:"mb-6",children:[e(c,{htmlFor:"picture",value:"Picture"}),e(K,{picture:l.picture,name:"picture",id:"picture",className:"text-third",onChange:n=>f("picture",n.target.files[0])}),t.picture?e(d,{className:"",value:t.picture}):null]}),s("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[s("div",{className:"mb-6",children:[e(c,{htmlFor:"name",value:"Name"}),e(h,{name:"name",id:"name",className:"w-full",onChange:i,value:l.name}),t.name?e(d,{className:"",value:t.name}):null]}),s("div",{className:"mb-6",children:[e(c,{htmlFor:"username",value:"Username"}),e(h,{name:"username",id:"username",className:"w-full",onChange:i,value:l.username}),t.username?e(d,{className:"",value:t.username}):null]})]}),s("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[s("div",{className:"mb-6",children:[e(c,{htmlFor:"email",value:"Email"}),e(h,{type:"email",name:"email",id:"email",className:"w-full",onChange:i,value:l.email}),t.email?e(d,{className:"",value:t.email}):null]}),s("div",{className:"mb-6",children:[e(c,{htmlFor:"number_phone",value:"Number Phone"}),e(h,{type:"number",name:"number_phone",id:"number_phone",className:"w-full",onChange:i,value:l.number_phone}),t.number_phone?e(d,{className:"",value:t.number_phone}):null]})]}),e("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:s("div",{className:"mb-6",children:[e(c,{htmlFor:"status",value:"Status"}),e(R,{value:l.status,data:y,onChange:n=>f("status",n)}),t.status?e(d,{className:"",value:t.status}):null]})}),e("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:s("div",{className:"mb-6",children:[e(c,{htmlFor:"is_active",value:"Actives"}),s("div",{className:"flex items-center gap-4",children:[s("div",{className:`w-1/2 flex items-center pl-4 border ${l.is_active==1?"border-primary":"border-gray-300"} rounded`,children:[e(h,{id:"bordered-radio-1",type:"radio",onChange:i,checked:l.is_active==1,value:"1",name:"is_active",className:"w-4 h-4 text-primary bg-gray-100 border-gray-300 focus:ring-primary"}),e("label",{htmlFor:"bordered-radio-1",className:"w-full py-2 ml-2 font-medium text-third",children:"Active"})]}),s("div",{className:`w-1/2 flex items-center pl-4 border ${l.is_active==0?"border-primary":"border-gray-300"} rounded`,children:[e(h,{id:"bordered-radio-2",type:"radio",onChange:i,checked:l.is_active==0,value:"0",name:"is_active",className:"w-4 h-4 text-primary bg-gray-100 border-gray-300 focus:ring-primary"}),e("label",{htmlFor:"bordered-radio-2",className:"w-full py-2 ml-2 font-medium text-third",children:"Non Active"})]})]}),t.is_active?e(d,{className:"",value:t.is_active}):null]})}),s("div",{className:"mb-6",children:[e(c,{htmlFor:"address",value:"Address"}),e(X,{rows:"6",name:"address",id:"address",onChange:i,value:l.address}),t.address?e(d,{className:"",value:t.address}):null]})]})}function ce({total_employees:l,...f}){const{data:t,meta:i,links:y}=f.employees,[n,A]=u.useState(""),{delete:k,data:b,setData:v}=H({name:"",username:"",email:"",password:"",number_phone:"",address:"",picture:"",status:"",is_active:""});let[j,o]=u.useState(!1),[P,g]=u.useState(!1);const[M,U]=u.useState(""),[$,z]=u.useState(""),[T,B]=u.useState(""),[C,N]=u.useState("");function E(a,p){if(o(!0),U("Employee"),B(p),N(a),a){const m=t.find(Y=>Y.username===a);N(a),v({name:m.name,username:m.username,email:m.email,number_phone:m.number_phone,address:m.address,picture:m.picture,status:m.status,is_active:m.is_active})}else N(""),v({name:"",username:"",email:"",number_phone:"",address:"",picture:"",status:""})}function D(a,p){g(!0),z(p),N(a)}function L(){o(!1)}function O(){g(!1)}const Q=a=>{a.preventDefault(),w.post("/admin/setting/employee",{...b,status:b.status.name},{onSuccess:()=>{o(!1),v({name:"",username:"",email:"",address:"",status:"",picture:"",number_phone:""}),_.success("Employee has been created!")}})},q=a=>{a.preventDefault(),w.post(`/admin/setting/employee/${C}`,{_method:"put",...b,status:b.status.name},{onSuccess:()=>{o(!1),v({name:"",username:"",email:"",address:"",status:"",picture:"",number_phone:""}),_.success("Employee has been updated!")}})},V=a=>{k(route("admin.employee.destroy",a),{onSuccess:()=>{_.success("Employee has been deleted!"),g(!1)}})},W=a=>{a.preventDefault(),A(a.target.value),w.get("/admin/setting/employee",{search:a.target.value},{preserveState:!0})};return s(S,{children:[e(J,{title:"Setting"}),s(Z,{children:[e("h3",{className:"text-2xl mt-10 mb-4 font-semibold text-fourth",children:"Employees"}),s("div",{className:"flex justify-between gap-2 w-full item-center my-2",children:[s("div",{className:"flex gap-2",children:[e(te,{href:route("admin.dashboard")}),e(x,{onClick:()=>E("","create"),type:"button",children:e(le,{size:18})})]}),e(h,{type:"search",className:"w-3/4 md:w-1/4",placeholder:"Search employee..",defaultValue:n,onChange:W})]}),e("div",{className:"w-full"}),s(r,{children:[e(r.Thead,{children:s("tr",{children:[e(r.Th,{children:"#"}),e(r.Th,{children:"Name"}),e(r.Th,{children:"Username"}),e(r.Th,{children:"Email"}),e(r.Th,{children:"Number Phone"}),e(r.Th,{children:"Address"}),e(r.Th,{children:"Status"}),e(r.Th,{children:"Picture"}),e(r.Th,{children:"Action"})]})}),e(r.Tbody,{children:t.length>0?e(S,{children:t.map((a,p)=>s("tr",{className:`${a.is_active===1?"bg-white":"bg-gray-300"} border-b`,children:[e(r.Td,{className:"w-5",children:i.from+p}),e(r.Td,{children:a.name}),e(r.Td,{children:a.username}),e(r.Td,{children:a.email}),e(r.Td,{children:a.number_phone}),e(r.Td,{children:a.address}),e(r.Td,{children:e("span",{className:`text-xs p-2 ${a.status=="employee"?"bg-green-500 text-white rounded":a.status=="admin"?"bg-yellow-400 text-white rounded":"bg-red-500 text-white rounded"}`,children:a.status.toUpperCase()})}),e(r.Td,{children:e("img",{src:a.picture?a.picture:"https://flowbite.com/docs/images/blog/image-1.jpg",className:"rounded w-12 h-12"})}),e(r.Td,{className:"w-10",children:s("div",{className:"flex flex-nowrap gap-2",children:[e(x,{className:"w-8 h-8 bg-yellow-400",type:"button",onClick:()=>E(a.username,"edit"),children:e(ie,{size:18})}),e(x,{className:"w-8 h-8 bg-red-500",type:"button",onClick:()=>D(a.username,a.name),children:e(ne,{size:18})})]})})]},p))}):e("tr",{className:"bg-white border-b text-secondary text-center",children:e(r.Td,{colSpan:"9",children:"No data"})})})]}),t.length>0&&s("div",{className:"flex w-full justify-between items-center",children:[e(ae,{meta:i,links:y}),s("p",{className:"text-sm text-third mt-10",children:["Total employees:"," ",e("span",{className:"font-bold",children:l})," "]})]}),e(ee,{isOpen:j,onClose:()=>o(o),setIsOpen:o,size:"2/3",type:T,title:M,children:s("form",{onSubmit:T=="create"?Q:q,className:"mt-6",children:[e(me,{data:b,setData:v}),s("div",{className:"flex justify-end gap-2",children:[e(I,{onClick:()=>L(),children:"Cancel"}),e(F,{type:"submit",children:T=="create"?"Create":"Update"})]})]})}),e(se,{isToast:P,onClose:()=>g(!1),title:$,children:s("div",{className:"flex justify-end gap-2 justify-center",children:[e(I,{onClick:()=>O(),children:"No"}),e(F,{onClick:()=>V(C),children:"Yes"})]})})]})]})}ce.layout=l=>e(re,{children:l});export{ce as default};
