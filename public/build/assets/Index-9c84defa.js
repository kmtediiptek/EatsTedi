import{r as l,W as $,j as a,F as g,a as e,b as q,y as G}from"./app-e84518f4.js";import{A as h}from"./Actionbutton-8748f7cb.js";import{C as H}from"./Container-fe046a49.js";import{M as J}from"./Modal-1644288e.js";import{P as K}from"./Pagination-efa05824.js";import{P as N}from"./PrimaryButton-6c4f361c.js";import{S}from"./SecondaryButton-2ea6ac27.js";import{T as s}from"./Table-20844995.js";import{I as R,T as X}from"./Toast-31845ed4.js";import{A as Z}from"./App-67f4dd75.js";import{_ as p}from"./index-c091b8ca.js";import{T as ee}from"./TextInput-aba27e7c.js";import{A as te}from"./ActionLink-177353c1.js";import{I as ae}from"./IconPlus-4b02b2ff.js";import{I as se}from"./IconEdit-dc64077f.js";import"./transition-d5ee3e1f.js";import"./keyboard-2bfe6c0d.js";import"./createReactComponent-6fd5fae7.js";function ne({total_tables:d,...w}){const{data:o,meta:f,links:C}=w.tables,[v,I]=l.useState(""),{delete:A,post:j,put:k,data:b,setData:m}=$({name:""});let[M,r]=l.useState(!1),[D,c]=l.useState(!1);const[P,z]=l.useState(""),[B,U]=l.useState(""),[u,E]=l.useState(""),[T,i]=l.useState("");function y(t,n){if(r(!0),z("Table"),E(n),i(t),t){const x=o.find(Y=>Y.slug===t);i(t),m({name:x.name,status:x.status})}else i(""),m({name:"",status:""})}function F(t,n){c(!0),U(n),i(t)}function O(){r(!1)}function Q(){c(!1)}const _=t=>{t.preventDefault(),j(route("admin.table.index"),{data:b,onSuccess:()=>{p.success("Table has been created!"),r(!1),m({name:"",status:""})}})},L=t=>n=>{n.preventDefault(),k(route("admin.table.update",t),{...b,onSuccess:()=>{p.success("Table has been updated!"),r(!1)}})},V=t=>{A(route("admin.table.destroy",t),{onSuccess:()=>{p.success("Table has been deleted!"),c(!1)}})},W=t=>{t.preventDefault(),I(t.target.value),G.get("/admin/setting/table",{search:t.target.value},{preserveState:!0})};return a(g,{children:[e(q,{title:"Setting"}),a(H,{children:[e("h3",{className:"text-2xl mt-10 mb-4 font-semibold text-fourth",children:"Tables"}),a("div",{className:"flex justify-between gap-2 w-full item-center my-2",children:[a("div",{className:"flex gap-2",children:[e(te,{href:route("admin.dashboard")}),e(h,{onClick:()=>y("","create"),type:"button",children:e(ae,{size:18})})]}),e(ee,{type:"search",className:"w-3/4 md:w-1/4",placeholder:"Search category..",defaultValue:v,onChange:W})]}),a(s,{children:[e(s.Thead,{children:a("tr",{children:[e(s.Th,{children:"#"}),e(s.Th,{children:"Number"}),e(s.Th,{children:"Status"}),e(s.Th,{children:"Action"})]})}),e(s.Tbody,{children:o.length>0?e(g,{children:o.map((t,n)=>a("tr",{className:"bg-white border-b",children:[e(s.Td,{className:"w-5",children:f.from+n}),e(s.Td,{children:t.name.toUpperCase()}),e(s.Td,{className:"text-left",children:e("span",{className:`text-xs p-2 ${t.status==1?"bg-emerald-500 text-white rounded":"bg-red-500 text-white rounded"}`,children:t.status==1?"Active":"Non Active"})}),e(s.Td,{className:"w-10",children:a("div",{className:"flex flex-nowrap gap-2",children:[e(h,{className:"w-8 h-8 bg-yellow-400",type:"button",onClick:()=>y(t.slug,"edit"),children:e(se,{size:18})}),e(h,{className:"w-8 h-8 bg-red-500",type:"button",onClick:()=>F(t.slug,"Table "+t.name),children:e(R,{size:18})})]})})]},n))}):e("tr",{className:"bg-white border-b text-secondary text-center",children:e(s.Td,{colSpan:"4",children:"No data"})})})]}),o.length>0&&a("div",{className:"flex w-full justify-between items-center",children:[e(K,{meta:f,links:C}),a("p",{className:"text-sm text-third mt-10",children:["Total Tables:"," ",e("span",{className:"font-bold",children:d})," "]})]}),e(J,{isOpen:M,onClose:()=>r(!1),size:"1/3",type:u,title:P,children:e("form",{onSubmit:u=="create"?_:L(T),className:"mt-6",children:a("div",{className:"flex justify-end gap-2",children:[e(S,{onClick:()=>O(),children:"Cancel"}),e(N,{type:"submit",children:u=="create"?"Create":"Update"})]})})}),e(X,{isToast:D,onClose:()=>c(!1),title:B,children:a("div",{className:"flex justify-end gap-2 justify-center",children:[e(S,{onClick:()=>Q(),children:"No"}),e(N,{onClick:()=>V(T),children:"Yes"})]})})]})]})}ne.layout=d=>e(Z,{children:d});export{ne as default};
